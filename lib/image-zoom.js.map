{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ad28ddb6c4f4a3e28aae","webpack:///./~/zooming/build/zooming.js","webpack:///./src/index.js"],"names":["ImageZoom","zooming","options","listen","node","base","features","Feature","defaultOptions","enableGrab","bgOpacity","bgColor","scaleBase"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA;AACA;AACA;AACA;AACA,CAAC,qBAAqB;;AAEtB;AACA;AACA,CAAC;AACD;AACA;;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;AAQD;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AAkBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8CAA8C,iBAAiB;AAC/D,GAAG;AACH,iDAAiD,iBAAiB;AAClE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wCAAwC;AACxC,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,wCAAwC;AACxC;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA,sCAAsC;AACtC;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA,sCAAsC;AACtC;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,aAAa;AACb,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yBAAyB,oBAAoB;AAC7C;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;;AAEA;AACA,aAAa,OAAO;AACpB;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB;AACvB,sBAAsB;AACtB,yBAAyB;AACzB;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,eAAe;AAC7B,cAAc;AACd;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,6DAA6D,iBAAiB;;AAE9E;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB,QAAQ;AACxB,gBAAgB,SAAS;AACzB;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,SAAS;AACzB;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,SAAS;AACzB;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;;AAEA,CAAC;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCzsCMA,S;;;;;;;;;;;6BAEG;AACL,aAAKC,OAAL,GAAe,sBAAY,KAAKC,OAAjB,CAAf;AACA,aAAKD,OAAL,CAAaE,MAAb,CAAoB,KAAKC,IAAzB;AACD;;;;IALqBC,KAAKC,QAAL,CAAcC,O;;AAStC;;;;;AAKAP,YAAUQ,cAAV,GAA2B;AACzBC,gBAAY,KADa;AAEzBC,eAAW,GAFc;AAGzBC,aAAS,cAHgB;AAIzBC,eAAW;AAJc,GAA3B;;oBAOeZ,S","file":"image-zoom.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"image-zoom\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"image-zoom\"] = factory();\n\telse\n\t\troot[\"image-zoom\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ad28ddb6c4f4a3e28aae","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Zooming = factory());\n}(this, (function () { 'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar set = function set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n};\n\nvar body = document.body;\nvar docElm = document.documentElement;\nvar isString = checkType('string');\nvar isLink = checkTag('A');\nvar webkitPrefix = 'WebkitAppearance' in docElm.style ? '-webkit-' : '';\n\nfunction checkType(typeName) {\n  return function (el) {\n    return (typeof el === 'undefined' ? 'undefined' : _typeof(el)) === typeName;\n  };\n}\n\nfunction checkTag(tagName) {\n  return function (el) {\n    return el.tagName === tagName;\n  };\n}\n\nfunction getParents(el, match) {\n  var parents = [];\n\n  for (; el && el !== document; el = el.parentNode) {\n    if (match) {\n      if (match(el)) {\n        parents.push(el);\n      }\n    } else {\n      parents.push(el);\n    }\n  }\n\n  return parents;\n}\n\nfunction isNotImage() {\n  return checkTag('IMG') === false;\n}\n\nfunction loadImage(src, cb) {\n  if (!src) return;\n\n  var img = new Image();\n  img.onload = function () {\n    if (cb) cb(img);\n  };\n\n  img.src = src;\n}\n\nfunction checkOriginalImage(el, cb) {\n  var srcOriginal = null;\n\n  if (el.hasAttribute('data-original')) {\n    srcOriginal = el.getAttribute('data-original');\n  } else if (isLink(el.parentNode)) {\n    srcOriginal = el.parentNode.getAttribute('href');\n  }\n\n  cb(srcOriginal);\n}\n\nvar trans = sniffTransition(document.createElement('div'));\nvar transformCssProp = trans.transformCssProp;\nvar transEndEvent = trans.transEndEvent;\n\nfunction checkTrans(styles) {\n  var transitionProp = trans.transitionProp;\n  var transformProp = trans.transformProp;\n\n  var value = void 0;\n  if (styles.transition) {\n    value = styles.transition;\n    delete styles.transition;\n    styles[transitionProp] = value;\n  }\n  if (styles.transform) {\n    value = styles.transform;\n    delete styles.transform;\n    styles[transformProp] = value;\n  }\n}\n\nfunction sniffTransition(el) {\n  var ret = {};\n  var trans = ['webkitTransition', 'transition', 'mozTransition'];\n  var tform = ['webkitTransform', 'transform', 'mozTransform'];\n  var end = {\n    'transition': 'transitionend',\n    'mozTransition': 'transitionend',\n    'webkitTransition': 'webkitTransitionEnd'\n  };\n\n  trans.some(function (prop) {\n    if (el.style[prop] !== undefined) {\n      ret.transitionProp = prop;\n      ret.transEndEvent = end[prop];\n      return true;\n    }\n  });\n\n  tform.some(function (prop) {\n    if (el.style[prop] !== undefined) {\n      ret.transformProp = prop;\n      ret.transformCssProp = prop.replace(/(.*)Transform/, '-$1-transform');\n      return true;\n    }\n  });\n\n  return ret;\n}\n\nfunction divide(denominator) {\n  return function (numerator) {\n    return numerator / denominator;\n  };\n}\n\nvar half = divide(2);\n\nvar cursor = {\n  default: 'auto',\n  zoomIn: webkitPrefix + 'zoom-in',\n  zoomOut: webkitPrefix + 'zoom-out',\n  grab: webkitPrefix + 'grab',\n  move: 'move'\n};\n\nfunction toggleListener(el, type, handler, add) {\n  if (add) {\n    el.addEventListener(type, handler[type], { passive: false });\n  } else {\n    el.removeEventListener(type, handler[type], { passive: false });\n  }\n}\n\nfunction getWindowCenter() {\n  var windowWidth = Math.min(docElm.clientWidth, window.innerWidth);\n  var windowHeight = Math.min(docElm.clientHeight, window.innerHeight);\n\n  return {\n    x: half(windowWidth),\n    y: half(windowHeight)\n  };\n}\n\nfunction toggleGrabListeners(el, handler, add) {\n  ['mousedown', 'mousemove', 'mouseup', 'touchstart', 'touchmove', 'touchend'].forEach(function (type) {\n    toggleListener(el, type, handler, add);\n  });\n}\n\nfunction setStyle(el, styles, remember) {\n  checkTrans(styles);\n\n  var s = el.style;\n  var original = {};\n\n  for (var key in styles) {\n    if (remember) original[key] = s[key] || '';\n    s[key] = styles[key];\n  }\n\n  return original;\n}\n\nfunction bindAll(_this, that) {\n  var methods = Object.getOwnPropertyNames(Object.getPrototypeOf(_this));\n\n  methods.forEach(function (method) {\n    _this[method] = _this[method].bind(that);\n  });\n}\n\nvar overflowHiddenParents = {\n\n  // Map from Element to its overflow:hidden parents\n  map: new Map(),\n\n  // Map from parent to its original style\n  style: new Map(),\n\n  disable: disableOverflowHiddenParents,\n  enable: enableOverflowHiddenParents\n};\n\nfunction isOverflowHidden(el) {\n  return getComputedStyle(el).overflow === 'hidden';\n}\n\nfunction getOverflowHiddenParents(el) {\n  if (overflowHiddenParents.map.has(el)) {\n    return overflowHiddenParents.map.get(el);\n  } else {\n    var parents = getParents(el.parentNode, isOverflowHidden);\n    overflowHiddenParents.map.set(el, parents);\n    return parents;\n  }\n}\n\nfunction disableOverflowHiddenParents(el) {\n  getOverflowHiddenParents(el).forEach(function (parent) {\n    if (overflowHiddenParents.style.has(parent)) {\n      setStyle(parent, {\n        overflow: 'visible'\n      });\n    } else {\n      overflowHiddenParents.style.set(parent, setStyle(parent, {\n        overflow: 'visible'\n      }, true));\n    }\n  });\n}\n\nfunction enableOverflowHiddenParents(el) {\n  if (overflowHiddenParents.map.has(el)) {\n    overflowHiddenParents.map.get(el).forEach(function (parent) {\n      setStyle(parent, overflowHiddenParents.style.get(parent));\n    });\n  }\n}\n\nvar PRESS_DELAY = 200;\nvar MULTITOUCH_SCALE_FACTOR = 2;\n\nvar EventHandler = function () {\n  function EventHandler(instance) {\n    classCallCheck(this, EventHandler);\n\n    bindAll(this, instance);\n  }\n\n  createClass(EventHandler, [{\n    key: 'click',\n    value: function click(e) {\n      e.preventDefault();\n\n      if (this.shown) {\n        if (this.released) this.close();else this.release();\n      } else {\n        this.open(e.currentTarget);\n      }\n    }\n  }, {\n    key: 'scroll',\n    value: function scroll() {\n      var scrollTop = window.pageYOffset || (docElm || body.parentNode || body).scrollTop;\n\n      if (this.lastScrollPosition === null) {\n        this.lastScrollPosition = scrollTop;\n      }\n\n      var deltaY = this.lastScrollPosition - scrollTop;\n\n      if (Math.abs(deltaY) >= this.options.scrollThreshold) {\n        this.lastScrollPosition = null;\n        this.close();\n      }\n    }\n  }, {\n    key: 'keydown',\n    value: function keydown(e) {\n      var _this = this;\n\n      if (isEscape(e)) {\n        if (this.released) this.close();else this.release(function () {\n          return _this.close();\n        });\n      }\n    }\n  }, {\n    key: 'mousedown',\n    value: function mousedown(e) {\n      var _this2 = this;\n\n      if (isNotLeftButton(e)) return;\n      e.preventDefault();\n\n      this.pressTimer = setTimeout(function () {\n        _this2.grab(e.clientX, e.clientY);\n      }, PRESS_DELAY);\n    }\n  }, {\n    key: 'mousemove',\n    value: function mousemove(e) {\n      if (this.released) return;\n      this.move(e.clientX, e.clientY);\n    }\n  }, {\n    key: 'mouseup',\n    value: function mouseup(e) {\n      if (isNotLeftButton(e)) return;\n      clearTimeout(this.pressTimer);\n\n      if (this.released) this.close();else this.release();\n    }\n  }, {\n    key: 'touchstart',\n    value: function touchstart(e) {\n      var _this3 = this;\n\n      e.preventDefault();\n\n      this.pressTimer = setTimeout(function () {\n        processTouches(e.touches, _this3.options.scaleExtra, function (x, y, scaleExtra) {\n          _this3.grab(x, y, scaleExtra);\n        });\n      }, PRESS_DELAY);\n    }\n  }, {\n    key: 'touchmove',\n    value: function touchmove(e) {\n      var _this4 = this;\n\n      if (this.released) return;\n\n      processTouches(e.touches, this.options.scaleExtra, function (x, y, scaleExtra) {\n        _this4.move(x, y, scaleExtra);\n      });\n    }\n  }, {\n    key: 'touchend',\n    value: function touchend(e) {\n      if (isTouching(e)) return;\n      clearTimeout(this.pressTimer);\n\n      if (this.released) this.close();else this.release();\n    }\n  }]);\n  return EventHandler;\n}();\n\nfunction isNotLeftButton(event) {\n  return event.button !== 0;\n}\n\nfunction isEscape(event) {\n  var code = event.key || event.code;\n  return code === 'Escape' || event.keyCode === 27;\n}\n\nfunction isTouching(event) {\n  return event.targetTouches.length > 0;\n}\n\nfunction processTouches(touches, currScaleExtra, cb) {\n  var total = touches.length;\n  var firstTouch = touches[0];\n  var multitouch = total > 1;\n\n  var scaleExtra = currScaleExtra;\n  var i = touches.length;\n  var xs = 0,\n      ys = 0;\n\n  // keep track of the min and max of touch positions\n\n  var min = { x: firstTouch.clientX, y: firstTouch.clientY };\n  var max = { x: firstTouch.clientX, y: firstTouch.clientY };\n\n  while (i--) {\n    var t = touches[i];\n    var _ref = [t.clientX, t.clientY],\n        x = _ref[0],\n        y = _ref[1];\n\n    xs += x;\n    ys += y;\n\n    if (!multitouch) continue;\n\n    if (x < min.x) {\n      min.x = x;\n    } else if (x > max.x) {\n      max.x = x;\n    }\n\n    if (y < min.y) {\n      min.y = y;\n    } else if (y > max.y) {\n      max.y = y;\n    }\n  }\n\n  if (multitouch) {\n    // change scaleExtra dynamically\n    var distX = max.x - min.x,\n        distY = max.y - min.y;\n\n\n    if (distX > distY) {\n      scaleExtra = distX / window.innerWidth * MULTITOUCH_SCALE_FACTOR;\n    } else {\n      scaleExtra = distY / window.innerHeight * MULTITOUCH_SCALE_FACTOR;\n    }\n  }\n\n  cb(xs / total, ys / total, scaleExtra);\n}\n\nvar Overlay = function () {\n  function Overlay(el, instance) {\n    classCallCheck(this, Overlay);\n\n    this.el = el;\n    this.instance = instance;\n    this.parent = document.body;\n  }\n\n  createClass(Overlay, [{\n    key: 'init',\n    value: function init(options) {\n      var _this = this;\n\n      setStyle(this.el, {\n        zIndex: 998,\n        backgroundColor: options.bgColor,\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        opacity: 0,\n        transition: 'opacity\\n        ' + options.transitionDuration + 's\\n        ' + options.transitionTimingFunction\n      });\n\n      this.el.addEventListener('click', function () {\n        return _this.instance.close();\n      });\n    }\n  }, {\n    key: 'updateStyle',\n    value: function updateStyle(options) {\n      setStyle(this.el, {\n        backgroundColor: options.bgColor,\n        transition: 'opacity\\n        ' + options.transitionDuration + 's\\n        ' + options.transitionTimingFunction\n      });\n    }\n  }, {\n    key: 'insert',\n    value: function insert() {\n      this.parent.appendChild(this.el);\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      this.parent.removeChild(this.el);\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        return _this2.el.style.opacity = _this2.instance.options.bgOpacity;\n      }, 30);\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      this.el.style.opacity = 0;\n    }\n  }]);\n  return Overlay;\n}();\n\nvar Target = function () {\n  function Target(el, instance) {\n    classCallCheck(this, Target);\n\n    this.el = el;\n    this.instance = instance;\n    this.translate = null;\n    this.scale = null;\n    this.srcThumbnail = this.el.getAttribute('src');\n    this.style = {\n      open: null,\n      close: null\n    };\n  }\n\n  createClass(Target, [{\n    key: 'zoomIn',\n    value: function zoomIn() {\n      var options = this.instance.options;\n      var rect = this.el.getBoundingClientRect();\n\n      // Remove overflow:hidden from target's parent nodes if any. It prevents\n      // parent nodes from hiding the target after zooming in\n      overflowHiddenParents.disable(this.el);\n\n      this.translate = calculateTranslate(rect);\n      this.scale = calculateScale(rect, options.scaleBase, options.customSize);\n\n      // force layout update\n      this.el.offsetWidth;\n\n      this.style.open = {\n        position: 'relative',\n        zIndex: 999,\n        cursor: options.enableGrab ? cursor.grab : cursor.zoomOut,\n        transition: transformCssProp + '\\n        ' + options.transitionDuration + 's\\n        ' + options.transitionTimingFunction,\n        transform: 'translate(' + this.translate.x + 'px, ' + this.translate.y + 'px)\\n        scale(' + this.scale.x + ',' + this.scale.y + ')',\n        width: rect.width + 'px',\n        height: rect.height + 'px'\n      };\n\n      // trigger transition\n      this.style.close = setStyle(this.el, this.style.open, true);\n    }\n  }, {\n    key: 'zoomOut',\n    value: function zoomOut() {\n      // Restore overflow:hidden to target's parent nodes if any\n      overflowHiddenParents.enable(this.el);\n\n      // force layout update\n      this.el.offsetWidth;\n\n      setStyle(this.el, { transform: 'none' });\n    }\n  }, {\n    key: 'grab',\n    value: function grab(x, y, scaleExtra) {\n      var windowCenter = getWindowCenter();\n      var dx = windowCenter.x - x,\n          dy = windowCenter.y - y;\n\n\n      setStyle(this.el, {\n        cursor: cursor.move,\n        transform: 'translate(\\n        ' + (this.translate.x + dx) + 'px, ' + (this.translate.y + dy) + 'px)\\n        scale(' + (this.scale.x + scaleExtra) + ',' + (this.scale.y + scaleExtra) + ')'\n      });\n    }\n  }, {\n    key: 'move',\n    value: function move(x, y, scaleExtra) {\n      var windowCenter = getWindowCenter();\n      var dx = windowCenter.x - x,\n          dy = windowCenter.y - y;\n\n\n      setStyle(this.el, {\n        transition: transformCssProp,\n        transform: 'translate(\\n        ' + (this.translate.x + dx) + 'px, ' + (this.translate.y + dy) + 'px)\\n        scale(' + (this.scale.x + scaleExtra) + ',' + (this.scale.y + scaleExtra) + ')'\n      });\n    }\n  }, {\n    key: 'restoreCloseStyle',\n    value: function restoreCloseStyle() {\n      setStyle(this.el, this.style.close);\n    }\n  }, {\n    key: 'restoreOpenStyle',\n    value: function restoreOpenStyle() {\n      setStyle(this.el, this.style.open);\n    }\n  }, {\n    key: 'upgradeSource',\n    value: function upgradeSource(srcOriginal) {\n      var _this = this;\n\n      if (!srcOriginal) return;\n\n      var parentNode = this.el.parentNode;\n      var temp = this.el.cloneNode(false);\n\n      // force compute the hi-res image in DOM to prevent\n      // image flickering while updating src\n      temp.setAttribute('src', srcOriginal);\n      temp.style.position = 'fixed';\n      temp.style.visibility = 'hidden';\n      parentNode.appendChild(temp);\n\n      setTimeout(function () {\n        _this.el.setAttribute('src', srcOriginal);\n        parentNode.removeChild(temp);\n      }, 100);\n    }\n  }, {\n    key: 'downgradeSource',\n    value: function downgradeSource(srcOriginal) {\n      if (!srcOriginal) return;\n\n      this.el.setAttribute('src', this.srcThumbnail);\n    }\n  }]);\n  return Target;\n}();\n\nfunction calculateTranslate(rect) {\n  var windowCenter = getWindowCenter();\n  var targetCenter = {\n    x: rect.left + half(rect.width),\n    y: rect.top + half(rect.height)\n  };\n\n  // The vector to translate image to the window center\n  return {\n    x: windowCenter.x - targetCenter.x,\n    y: windowCenter.y - targetCenter.y\n  };\n}\n\nfunction calculateScale(rect, scaleBase, customSize) {\n  if (customSize) {\n    return {\n      x: customSize.width / rect.width,\n      y: customSize.height / rect.height\n    };\n  } else {\n    var targetHalfWidth = half(rect.width);\n    var targetHalfHeight = half(rect.height);\n    var windowCenter = getWindowCenter();\n\n    // The distance between target edge and window edge\n    var targetEdgeToWindowEdge = {\n      x: windowCenter.x - targetHalfWidth,\n      y: windowCenter.y - targetHalfHeight\n    };\n\n    var scaleHorizontally = targetEdgeToWindowEdge.x / targetHalfWidth;\n    var scaleVertically = targetEdgeToWindowEdge.y / targetHalfHeight;\n\n    // The additional scale is based on the smaller value of\n    // scaling horizontally and scaling vertically\n    var scale = scaleBase + Math.min(scaleHorizontally, scaleVertically);\n\n    return {\n      x: scale,\n      y: scale\n    };\n  }\n}\n\n/**\n * A list of options.\n *\n * @type {Object}\n * @example\n * // Default options\n * var options = {\n *   defaultZoomable: 'img[data-action=\"zoom\"]',\n *   enableGrab: true,\n *   preloadImage: true,\n *   transitionDuration: 0.4,\n *   transitionTimingFunction: 'cubic-bezier(0.4, 0, 0, 1)',\n *   bgColor: 'rgb(255, 255, 255)',\n *   bgOpacity: 1,\n *   scaleBase: 1.0,\n *   scaleExtra: 0.5,\n *   scrollThreshold: 40,\n *   customSize: null,\n *   onOpen: null,\n *   onClose: null,\n *   onRelease: null,\n *   onBeforeOpen: null,\n *   onBeforeClose: null,\n *   onBeforeGrab: null,\n *   onBeforeMove: null,\n *   onBeforeRelease: null\n * }\n */\nvar OPTIONS = {\n  /**\n   * Zoomable elements by default. It can be a css selector or an element.\n   * @type {string|Element}\n   */\n  defaultZoomable: 'img[data-action=\"zoom\"]',\n\n  /**\n   * To be able to grab and drag the image for extra zoom-in.\n   * @type {boolean}\n   */\n  enableGrab: true,\n\n  /**\n   * Preload images with attribute \"data-original\".\n   * @type {boolean}\n   */\n  preloadImage: true,\n\n  /**\n   * Transition duration in seconds.\n   * @type {number}\n   */\n  transitionDuration: 0.4,\n\n  /**\n   * Transition timing function.\n   * @type {string}\n   */\n  transitionTimingFunction: 'cubic-bezier(0.4, 0, 0, 1)',\n\n  /**\n   * Overlay background color.\n   * @type {string}\n   */\n  bgColor: 'rgb(255, 255, 255)',\n\n  /**\n   * Overlay background opacity.\n   * @type {number}\n   */\n  bgOpacity: 1,\n\n  /**\n   * The base scale factor for zooming. By default scale to fit the window.\n   * @type {number}\n   */\n  scaleBase: 1.0,\n\n  /**\n   * The extra scale factor when grabbing the image.\n   * @type {number}\n   */\n  scaleExtra: 0.5,\n\n  /**\n   * How much scrolling it takes before closing out.\n   * @type {number}\n   */\n  scrollThreshold: 40,\n\n  /**\n   * Scale (zoom in) to given width and height. Ignore scaleBase if set.\n   * @type {Object}\n   * @example\n   * customSize: { width: 800, height: 400 }\n   */\n  customSize: null,\n\n  /**\n   * A callback function that will be called when a target is opened and\n   * transition has ended. It will get the target element as the argument.\n   * @type {Function}\n   */\n  onOpen: null,\n\n  /**\n   * Same as above, except fired when closed.\n   * @type {Function}\n   */\n  onClose: null,\n\n  /**\n   * Same as above, except fired when released.\n   * @type {Function}\n   */\n  onRelease: null,\n\n  /**\n   * A callback function that will be called before open.\n   * @type {Function}\n   */\n  onBeforeOpen: null,\n\n  /**\n   * A callback function that will be called before close.\n   * @type {Function}\n   */\n  onBeforeClose: null,\n\n  /**\n   * A callback function that will be called before grab.\n   * @type {Function}\n   */\n  onBeforeGrab: null,\n\n  /**\n   * A callback function that will be called before move.\n   * @type {Function}\n   */\n  onBeforeMove: null,\n\n  /**\n   * A callback function that will be called before release.\n   * @type {Function}\n   */\n  onBeforeRelease: null\n};\n\nvar Zooming$1 = function () {\n\n  /**\n   * @param {Object} [options] Update default options if provided.\n   */\n  function Zooming(options) {\n    classCallCheck(this, Zooming);\n\n\n    // elements\n    this.target = null;\n    this.overlay = new Overlay(document.createElement('div'), this);\n    this.eventHandler = new EventHandler(this);\n    this.body = document.body;\n\n    // state\n    this.shown = false; // target is open\n    this.lock = false; // target is in transform\n    this.released = true; // mouse/finger is not pressing down\n    this.lastScrollPosition = null;\n    this.pressTimer = null;\n\n    // init\n    this.options = _extends({}, OPTIONS);\n    this.config(options);\n    this.listen(this.options.defaultZoomable);\n    this.overlay.init(this.options);\n  }\n\n  /**\n   * Make element(s) zoomable.\n   * @param  {string|Element} el A css selector or an Element.\n   * @return {this}\n   */\n\n\n  createClass(Zooming, [{\n    key: 'listen',\n    value: function listen(el) {\n      if (isString(el)) {\n        var els = document.querySelectorAll(el),\n            i = els.length;\n\n        while (i--) {\n          this.listen(els[i]);\n        }\n\n        return this;\n      }\n\n      if (isNotImage(el)) return;\n\n      el.style.cursor = cursor.zoomIn;\n      el.addEventListener('click', this.eventHandler.click, { passive: false });\n\n      if (this.options.preloadImage) {\n        checkOriginalImage(el, loadImage);\n      }\n\n      return this;\n    }\n\n    /**\n     * Update options.\n     * @param  {Object} options An Object that contains this.options.\n     * @return {this}\n     */\n\n  }, {\n    key: 'config',\n    value: function config(options) {\n      if (!options) return this.options;\n\n      _extends(this.options, options);\n      this.overlay.updateStyle(this.options);\n\n      return this;\n    }\n\n    /**\n     * Open (zoom in) the Element.\n     * @param  {Element} el The Element to open.\n     * @param  {Function} [cb=this.options.onOpen] A callback function that will\n     * be called when a target is opened and transition has ended. It will get\n     * the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'open',\n    value: function open(el) {\n      var _this = this;\n\n      var cb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.options.onOpen;\n\n      if (this.shown || this.lock) return;\n\n      var target = isString(el) ? document.querySelector(el) : el;\n\n      if (isNotImage(target)) return;\n\n      // onBeforeOpen event\n      if (this.options.onBeforeOpen) this.options.onBeforeOpen(target);\n\n      if (!this.options.preloadImage) {\n        checkOriginalImage(target, loadImage);\n      }\n\n      this.target = new Target(target, this);\n\n      this.shown = true;\n      this.lock = true;\n\n      this.target.zoomIn();\n      this.overlay.insert();\n      this.overlay.show();\n\n      document.addEventListener('scroll', this.eventHandler.scroll);\n      document.addEventListener('keydown', this.eventHandler.keydown);\n\n      var onEnd = function onEnd() {\n        target.removeEventListener(transEndEvent, onEnd);\n\n        _this.lock = false;\n\n        checkOriginalImage(target, function (srcOriginal) {\n          return _this.target.upgradeSource(srcOriginal);\n        });\n\n        if (_this.options.enableGrab) {\n          toggleGrabListeners(document, _this.eventHandler, true);\n        }\n\n        if (cb) cb(target);\n      };\n\n      target.addEventListener(transEndEvent, onEnd);\n\n      return this;\n    }\n\n    /**\n     * Close (zoom out) the Element currently opened.\n     * @param  {Function} [cb=this.options.onClose] A callback function that will\n     * be called when a target is closed and transition has ended. It will get\n     * the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'close',\n    value: function close() {\n      var _this2 = this;\n\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.onClose;\n\n      if (!this.shown || this.lock) return;\n\n      var target = this.target.el;\n\n      // onBeforeClose event\n      if (this.options.onBeforeClose) this.options.onBeforeClose(target);\n\n      this.lock = true;\n\n      this.body.style.cursor = cursor.default;\n      this.overlay.hide();\n      this.target.zoomOut();\n\n      document.removeEventListener('scroll', this.eventHandler.scroll);\n      document.removeEventListener('keydown', this.eventHandler.keydown);\n\n      var onEnd = function onEnd() {\n        target.removeEventListener(transEndEvent, onEnd);\n\n        _this2.shown = false;\n        _this2.lock = false;\n\n        checkOriginalImage(target, function (srcOriginal) {\n          return _this2.target.downgradeSource(srcOriginal);\n        });\n\n        if (_this2.options.enableGrab) {\n          toggleGrabListeners(document, _this2.eventHandler, false);\n        }\n\n        _this2.target.restoreCloseStyle();\n        _this2.overlay.remove();\n\n        if (cb) cb(target);\n      };\n\n      target.addEventListener(transEndEvent, onEnd);\n\n      return this;\n    }\n\n    /**\n     * Grab the Element currently opened given a position and apply extra zoom-in.\n     * @param  {number}   x The X-axis of where the press happened.\n     * @param  {number}   y The Y-axis of where the press happened.\n     * @param  {number}   scaleExtra Extra zoom-in to apply.\n     * @param  {Function} [cb=this.options.scaleExtra] A callback function that\n     * will be called when a target is grabbed and transition has ended. It\n     * will get the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'grab',\n    value: function grab(x, y) {\n      var scaleExtra = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.options.scaleExtra;\n      var cb = arguments[3];\n\n      if (!this.shown || this.lock) return;\n\n      var target = this.target.el;\n\n      // onBeforeGrab event\n      if (this.options.onBeforeGrab) this.options.onBeforeGrab(target);\n\n      this.released = false;\n      this.target.grab(x, y, scaleExtra);\n\n      var onEnd = function onEnd() {\n        target.removeEventListener(transEndEvent, onEnd);\n        if (cb) cb(target);\n      };\n\n      target.addEventListener(transEndEvent, onEnd);\n    }\n\n    /**\n     * Move the Element currently grabbed given a position and apply extra zoom-in.\n     * @param  {number}   x The X-axis of where the press happened.\n     * @param  {number}   y The Y-axis of where the press happened.\n     * @param  {number}   scaleExtra Extra zoom-in to apply.\n     * @param  {Function} [cb=this.options.scaleExtra] A callback function that\n     * will be called when a target is moved and transition has ended. It will\n     * get the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'move',\n    value: function move(x, y) {\n      var scaleExtra = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.options.scaleExtra;\n      var cb = arguments[3];\n\n      if (!this.shown || this.lock) return;\n\n      var target = this.target.el;\n\n      // onBeforeMove event\n      if (this.options.onBeforeMove) this.options.onBeforeMove(target);\n\n      this.released = false;\n\n      this.target.move(x, y, scaleExtra);\n      this.body.style.cursor = cursor.move;\n\n      var onEnd = function onEnd() {\n        target.removeEventListener(transEndEvent, onEnd);\n        if (cb) cb(target);\n      };\n\n      target.addEventListener(transEndEvent, onEnd);\n    }\n\n    /**\n     * Release the Element currently grabbed.\n     * @param  {Function} [cb=this.options.onRelease] A callback function that\n     * will be called when a target is released and transition has ended. It\n     * will get the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'release',\n    value: function release() {\n      var _this3 = this;\n\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.onRelease;\n\n      if (!this.shown || this.lock) return;\n\n      var target = this.target.el;\n\n      // onBeforeRelease event\n      if (this.options.onBeforeRelease) this.options.onBeforeRelease(target);\n\n      this.lock = true;\n\n      this.target.restoreOpenStyle();\n      this.body.style.cursor = cursor.default;\n\n      var onEnd = function onEnd() {\n        target.removeEventListener(transEndEvent, onEnd);\n\n        _this3.lock = false;\n        _this3.released = true;\n\n        if (cb) cb(target);\n      };\n\n      target.addEventListener(transEndEvent, onEnd);\n\n      return this;\n    }\n  }]);\n  return Zooming;\n}();\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  new Zooming$1();\n});\n\nreturn Zooming$1;\n\n})));\n//# sourceMappingURL=zooming.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/zooming/build/zooming.js\n// module id = 0\n// module chunks = 0","import Zooming from 'zooming'\n\n/**\n * Image zoom feature class.\n */\nclass ImageZoom extends base.features.Feature {\n\n  init() {\n    this.zooming = new Zooming(this.options)\n    this.zooming.listen(this.node)\n  }\n\n}\n\n/**\n * Default feature options (also used to initialize zooming library).\n *\n * @see https://github.com/kingdido999/zooming\n */\nImageZoom.defaultOptions = {\n  enableGrab: false,\n  bgOpacity: 0.4,\n  bgColor: 'rgb(0, 0, 0)',\n  scaleBase: 0.9\n}\n\nexport default ImageZoom\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}